{"version":3,"sources":["components/LeftNav.js","actions/postAction.js","components/Utils.js","actions/userActions.js","components/Profile/FollowHandler.js","components/AppContext.js","components/Post/LikeButton.js","components/Post/DeleteCard.js","components/Post/EditDeleteComment.js","components/Post/CardComments.js","components/Post/Card.js","components/Thread.js","components/Post/PostForm.js","components/Log/SignInForm.js","components/Log/SignUpForm.js","components/Log/index.js","components/Trends.js","components/Profile/FriendHint.js","pages/Home.js","components/Profile/UploadImg.js","components/Profile/UpdateProfile.js","pages/Profile.js","pages/Trending.js","components/Log/Logout.js","components/Navbar.js","components/Routes/index.js","App.js","reducers/userReducer.js","actions/usersAction.js","reducers/usersReducer.js","reducers/postReducer.js","reducers/errorReducer.js","reducers/allPostsReducer.js","reducers/trendingReducer.js","reducers/index.js","index.js"],"names":["LeftNav","className","to","exact","activeClassName","src","alt","GET_POSTS","GET_ALL_POSTS","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERROR","getPosts","num","dispatch","axios","get","then","res","posts_array","data","slice","type","payload","catch","err","console","log","createPost","post","errors","getTrends","sortedArray","dateParser","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","isEmpty","value","undefined","Object","keys","length","trim","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERROR","FollowHandler","idToFollow","userData","useSelector","state","userReducer","useState","isFollowed","setIsFollowed","useDispatch","useEffect","following","includes","onClick","followerId","idToUnfollow","_id","method","url","followUser","UidContext","createContext","LikeButton","liked","setLiked","uid","useContext","likers","trigger","position","closeOnDocumentClick","postId","userId","id","DeleteCard","props","deleteQuote","window","confirm","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","handleDelete","commentId","deleteComment","commenterId","action","onSubmit","e","preventDefault","editComment","htmlFor","name","onChange","target","defaultValue","CardComments","usersData","usersReducer","comments","map","user","picture","join","commenterPseudo","addComment","pseudo","placeholder","Card","isLoading","setIsLoading","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","posterId","createdAt","message","video","width","height","frameBorder","allow","allowFullScreen","title","Thread","loadPost","setLoadPost","count","setCount","posts","postReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","PostForm","setMessage","postPicture","setPostPicture","setVideo","file","setFile","error","errorReducer","postError","handlePost","a","FormData","append","cancelPost","alert","findLink","split","i","embed","replace","splice","handleVideo","followers","now","accept","URL","createObjectURL","files","handlePicture","format","maxSize","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","withCredentials","innerHTML","location","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","checked","href","rel","Log","signup","signUpModal","setSignUpModal","signin","signInModal","setSignInModal","handleModals","Trends","allPostsReducer","users","trendList","trendingReducer","sort","b","FriendHint","playOnce","setPlayOnce","friendHint","setFriendHint","array","push","Math","random","notFriendList","Home","UploadImg","uploadPicture","UpdateProfile","bio","setBio","updateForm","setUpdateForm","userError","followingPopup","setFollowingPopup","followersPopup","setFollowersPopup","updateBio","Profile","Trending","Logout","logout","key","cookie","remove","expires","Navbar","index","path","component","App","setUid","fetchToken","getUser","Provider","Routes","initialState","GET_USERS","combineReducers","filter","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.59a4cc0f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst LeftNav = () => {\r\n  return (\r\n    <div className=\"left-nav-container\">\r\n      <div className=\"icons\">\r\n        <div className=\"icons-bis\">\r\n          <NavLink to='/' exact activeClassName=\"active-left-nav\">\r\n            <img src=\"./img/icons/home.svg\" alt=\"home\"/>\r\n          </NavLink>\r\n          <br/>\r\n          <NavLink to='/trending' exact activeClassName=\"active-left-nav\">\r\n            <img src=\"./img/icons/rocket.svg\" alt=\"home\"/>\r\n          </NavLink>\r\n          <br/>\r\n          <NavLink to='/profile' exact activeClassName=\"active-left-nav\">\r\n            <img src=\"./img/icons/user.svg\" alt=\"profil\"/>\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftNav;\r\n","import axios from \"axios\";\r\n\r\n// posts\r\nexport const GET_POSTS = \"GET_POSTS\"; // limit to 5 for infinite scroll\r\nexport const GET_ALL_POSTS = \"GET_ALL_POSTS\";\r\nexport const CREATE_POST =  \"CREATE_POST\";\r\nexport const LIKE_POST = \"LIKE_POST\";\r\nexport const UNLIKE_POST = \"UNLIKE_POST\";\r\nexport const UPDATE_POST = \"UPDATE_POST\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\n\r\n// comments\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\r\n\r\n// trends\r\nexport const GET_TRENDS = \"GET_TRENDS\";\r\n\r\n// errors\r\nexport const GET_POST_ERROR = \"GET_POST_ERRORS\";\r\n\r\nexport const getPosts = (num) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`api/post/`)\r\n      .then((res) => {\r\n        const posts_array = res.data.slice(0, num);\r\n        dispatch({type: GET_POSTS, payload: posts_array})\r\n        dispatch({type: GET_ALL_POSTS, payload: res.data})\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n}\r\n\r\nexport const likePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'patch',\r\n      url: `/api/post/like-post/` + postId,\r\n      data: {id: userId},\r\n    })\r\n      .then(() => {\r\n        dispatch({type: LIKE_POST, payload: {postId, userId}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const unlikePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'patch',\r\n      url: `/api/post/unlike-post/` + postId,\r\n      data: {id: userId},\r\n    })\r\n      .then(() => {\r\n        dispatch({type: UNLIKE_POST, payload: {postId, userId}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const createPost = (data) => {\r\n  return(dispatch) => {\r\n    return axios\r\n      .post(`/api/post/`, data)\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          dispatch({ type: GET_POST_ERROR, payload: res.data.errors });\r\n        } else {\r\n          dispatch({ type: GET_POST_ERROR, payload: \"\" });\r\n        }\r\n      });\r\n  }\r\n}\r\n\r\nexport const updatePost = (postId, message) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'put',\r\n      url: `/api/post/${postId}`,\r\n      data: {message},\r\n    })\r\n      .then(() => {\r\n        dispatch({type: UPDATE_POST, payload: {message: message, postId}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const deletePost = (postId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'delete',\r\n      url: `/api/post/${postId}`,\r\n    })\r\n      .then(() => {\r\n        dispatch({type: DELETE_POST, payload: {postId}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\n// COMMENTS\r\n\r\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'patch',\r\n      url: `/api/post/comment-post/` + postId,\r\n      data: {commenterId, text, commenterPseudo},\r\n    })\r\n      .then(() => {\r\n        dispatch({type: ADD_COMMENT, payload: {postId}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const editComment = (postId, commentId, text) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'patch',\r\n      url: `/api/post/edit-comment-post/` + postId,\r\n      data: {commentId, text},\r\n    })\r\n      .then(() => {\r\n        dispatch({type: EDIT_COMMENT, payload: {postId, commentId, text}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const deleteComment = (postId, commentId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: 'patch',\r\n      url: `/api/post/delete-comment-post/` + postId,\r\n      data: {commentId},\r\n    })\r\n      .then(() => {\r\n        dispatch({type: DELETE_COMMENT, payload: {postId, commentId}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const getTrends = (sortedArray) => {\r\n  return(dispatch) => {\r\n    dispatch({type: GET_TRENDS, payload: sortedArray})\r\n  }\r\n}","export const dateParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\"\r\n  };\r\n  let timestamp = Date.parse(num);\r\n  let date = new Date(timestamp).toLocaleDateString('fr-FR', options);\r\n\r\n  return date.toString();\r\n}\r\n\r\nexport const timestampParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\"\r\n  };\r\n  let date = new Date(num).toLocaleDateString('fr-FR', options);\r\n\r\n  return date.toString();\r\n}\r\n\r\nexport const isEmpty = (value) => {\r\n  return (\r\n    value === undefined ||\r\n    value === null ||\r\n    (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n    (typeof value === \"string\" && value.trim().length === 0)\r\n  );\r\n};\r\n\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USER = \"GET_USER\";\r\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\r\nexport const UPDATE_BIO = \"UPDATE_BIO\";\r\nexport const FOLLOW_USER = \"FOLLOW_USER\";\r\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\r\n\r\nexport const GET_USER_ERROR = \"GET_USER_ERROR\";\r\n\r\nexport const getUser = (uid) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`/api/user/${uid}`)\r\n      .then((res) => {\r\n        dispatch({type: GET_USER, payload: res.data})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const uploadPicture = (data, id) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .post(`/api/user/upload`, data)\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          dispatch({type: GET_USER_ERROR, payload: res.data.errors});\r\n        } else {\r\n          dispatch({type: GET_USER_ERROR, payload: \"\"});\r\n          return axios\r\n            .get(`/api/user/${id}`)\r\n            .then((res) => {\r\n              dispatch({type: UPLOAD_PICTURE, payload: res.data.picture})\r\n            })\r\n        }\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n}\r\n\r\nexport const updateBio = (userId, bio) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"put\",\r\n      url: `/api/user/${userId}`,\r\n      data: {\r\n        bio\r\n      }\r\n    })\r\n      .then((res) => {\r\n        dispatch({type: UPDATE_BIO, payload: bio})\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n}\r\n\r\nexport const followUser = (followerId, idToFollow) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/api/user/follow/` + followerId,\r\n      data: {idToFollow}\r\n    })\r\n      .then((res) => {\r\n        dispatch({type: FOLLOW_USER, payload: {idToFollow}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport const unfollowUser = (followerId, idToUnfollow) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/api/user/unfollow/` + followerId,\r\n      data: {idToUnfollow}\r\n    })\r\n      .then((res) => {\r\n        dispatch({type: UNFOLLOW_USER, payload: {idToUnfollow}})\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}","import React, {useState, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {isEmpty} from \"../Utils\";\r\nimport {followUser, unfollowUser} from \"../../actions/userActions\";\r\n\r\nconst FollowHandler = ({idToFollow, type}) => {\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const [isFollowed, setIsFollowed] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFollow = () => {\r\n    dispatch(followUser(userData._id, idToFollow));\r\n    setIsFollowed(true);\r\n  }\r\n  const handleUnFollow = () => {\r\n    dispatch(unfollowUser(userData._id, idToFollow));\r\n    setIsFollowed(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData.following)) {\r\n      if (userData.following.includes(idToFollow)) {\r\n        setIsFollowed(true);\r\n      } else setIsFollowed(false);\r\n    }\r\n  }, [userData, idToFollow])\r\n  return (\r\n    <>\r\n      {isFollowed && !isEmpty(userData) && (\r\n        <span onClick={handleUnFollow}>\r\n          {type === \"suggestion\" && <button className=\"unfollow-btn\">Abonn√©</button>}\r\n          {type === \"card\" && <img src=\"./img/icons/checked.svg\" alt=\"checked\"/> }\r\n        </span>\r\n      )}\r\n      {isFollowed === false && !isEmpty(userData) && (\r\n        <span onClick={handleFollow}>\r\n          {type === \"suggestion\" && <button className=\"follow-btn\">Suivre</button>}\r\n          {type === \"card\" && <img src=\"./img/icons/check.svg\" alt=\"check\"/> }\r\n        </span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowHandler;\r\n","import { createContext } from 'react';\r\n\r\nexport const UidContext = createContext();\r\n","import React, {useState, useContext, useEffect} from 'react';\r\nimport {UidContext} from \"../AppContext\";\r\nimport Popup from \"reactjs-popup\";\r\nimport 'reactjs-popup/dist/index.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {likePost, unlikePost} from \"../../actions/postAction\";\r\n\r\nconst LikeButton = ({post}) => {\r\n  const [liked, setLiked] = useState(false);\r\n  const uid = useContext(UidContext);\r\n  const dispatch = useDispatch();\r\n\r\n  const like = () => {\r\n    dispatch(likePost(post._id, uid))\r\n    setLiked(true);\r\n  }\r\n  const unlike = () => {\r\n    dispatch(unlikePost(post._id, uid))\r\n    setLiked(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (post.likers.includes(uid)) setLiked(true);\r\n    else setLiked(false);\r\n  }, [uid, post.likers, liked])\r\n  return (\r\n    <div className=\"like-container\">\r\n      {uid === null && (\r\n      <Popup\r\n        trigger={<img src=\"./img/icons/heart.svg\" alt=\"like\"/>}\r\n        position={[\"bottom center\", \"bottom right\", \"bottom left\"]}\r\n        closeOnDocumentClick\r\n      >\r\n        <div>Connectez-vous pour aimer un post !</div>\r\n      </Popup>\r\n      )}\r\n      {uid && liked === false && (\r\n        <img src=\"./img/icons/heart.svg\" onClick={like} alt=\"like\"/>\r\n      )}\r\n      {uid && liked && (\r\n        <img src=\"./img/icons/heart-filled.svg\" onClick={unlike} alt=\"unlike\"/>\r\n      )}\r\n      <span>{post.likers.length}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n","import React from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deletePost} from \"../../actions/postAction\";\r\n\r\nconst DeleteCard = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const deleteQuote = () => {\r\n    dispatch(deletePost(props.id));\r\n  }\r\n\r\n  return (\r\n    <div onClick={() => {\r\n      if(window.confirm('Voulez-vous supprimer cet article ?')) {\r\n        deleteQuote();\r\n      }\r\n    }}>\r\n      <img src=\"./img/icons/trash.svg\" alt=\"trash\"/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteCard;\r\n","import React, {useState, useContext, useEffect} from 'react';\r\nimport {UidContext} from \"../AppContext\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deleteComment, editComment} from \"../../actions/postAction\";\r\n\r\nconst EditDeleteComment = ({comment, postId}) => {\r\n  const [isAuthor, setIsAuthor] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const uid = useContext(UidContext);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleEdit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (text) {\r\n      dispatch(editComment(postId, comment._id, text));\r\n      setText(\"\");\r\n      setEdit(false);\r\n    }\r\n  }\r\n\r\n  const handleDelete = () => dispatch(deleteComment(postId, comment._id))\r\n\r\n  useEffect(() => {\r\n    const checkAuthor = () => {\r\n      if (uid === comment.commenterId) {\r\n        setIsAuthor(true);\r\n      }\r\n    }\r\n    checkAuthor();\r\n  }, [uid, comment.commenterId]);\r\n\r\n  return (\r\n    <div className={\"edit-comment\"}>\r\n      {isAuthor && edit === false && (\r\n        <span onClick={() => setEdit(!edit)}>\r\n          <img src=\"./img/icons/edit.svg\" alt=\"edit-comment\"/>\r\n        </span>\r\n      )}\r\n      {isAuthor && edit && (\r\n        <form action=\"\" onSubmit={handleEdit} className={\"edit-comment-form\"}>\r\n          <label htmlFor=\"text\" onClick={() => setEdit(!edit)}>Annuler</label>\r\n          <br/>\r\n          <input type=\"text\" name={\"text\"} onChange={(e) => setText(e.target.value)} defaultValue={comment.text}/>\r\n          <br/>\r\n          <div className=\"btn\">\r\n            <span onClick={() => {\r\n              if (window.confirm(\"Voulez-vous supprimer ce commentaire ?\")) {\r\n                handleDelete();\r\n              }\r\n            }}><img src=\"./img/icons/trash.svg\" alt=\"delete\"/>\r\n            </span>\r\n            <input type=\"submit\" value={\"Valider la modification\"}/>\r\n          </div>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditDeleteComment;\r\n","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {isEmpty, timestampParser} from \"../Utils\";\r\nimport FollowHandler from \"../Profile/FollowHandler\";\r\nimport {addComment, getPosts} from \"../../actions/postAction\";\r\nimport EditDeleteComment from \"./EditDeleteComment\";\r\n\r\nconst CardComments = ({post}) => {\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const dispatch = useDispatch();\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleComment = (e) => {\r\n    e.preventDefault();\r\n    if(text){\r\n      dispatch(addComment(post._id, userData._id, text, userData.pseudo))\r\n        .then(() => dispatch(getPosts()))\r\n        .then(() => setText(''));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"comments-container\"}>\r\n      {post.comments.map((comment) => {\r\n        return (\r\n          <div className={comment.commenterId === userData._id ? \"comment-container client\" : \"comment-container\"}\r\n               key={comment._id}>\r\n            <div className=\"left-part\">\r\n              <img src={\r\n                !isEmpty(usersData[0]) &&\r\n                usersData.map((user) => {\r\n                  if (user._id === comment.commenterId) return user.picture;\r\n                  else return null;\r\n                }).join('')\r\n              } alt=\"commenter-pic\"/>\r\n            </div>\r\n            <div className=\"right-part\">\r\n              <div className=\"comment-header\">\r\n                <div className=\"pseudo\">\r\n                  <h3>{comment.commenterPseudo}</h3>\r\n                  {comment.commenterId !== userData._id && (\r\n                    <FollowHandler idToFollow={comment.commenterId} type={\"card\"}/>\r\n                  )}\r\n                </div>\r\n                <span>{timestampParser(comment.timestamp)}</span>\r\n              </div>\r\n              <p>{comment.text}</p>\r\n              <EditDeleteComment comment={comment} postId={post._id}/>\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n      {userData._id && (\r\n        <form action=\"\" onSubmit={handleComment} className={\"comment-form\"}>\r\n          <input type=\"text\" name={\"text\"} onChange={(e) => setText(e.target.value)} value={text}\r\n                 placeholder={\"Laisser un commentaire\"}/>\r\n          <br/>\r\n          <input type=\"submit\" value={\"Envoyer\"}/>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardComments;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {dateParser, isEmpty} from \"../Utils\";\r\nimport FollowHandler from \"../Profile/FollowHandler\";\r\nimport LikeButton from \"./LikeButton\";\r\nimport {updatePost} from \"../../actions/postAction\";\r\nimport DeleteCard from \"./DeleteCard\";\r\nimport CardComments from \"./CardComments\";\r\n\r\nconst Card = ({post}) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isUpdated, setIsUpdated] = useState(false);\r\n  const [textUpdate, setTextUpdate] = useState(null);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const dispatch = useDispatch();\r\n  const [showComments, setShowComments] = useState(false);\r\n\r\n  const updateItem = () => {\r\n    if (textUpdate) {\r\n      dispatch(updatePost(post._id, textUpdate));\r\n    }\r\n    setIsUpdated(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    !isEmpty(usersData[0]) && setIsLoading(false);\r\n  }, [usersData])\r\n\r\n  return (\r\n    <li className=\"card-container\" key={post._id}>\r\n      {isLoading ? (\r\n        <i className=\"fas fa-spinner fa-spin\"/>\r\n      ) : (\r\n        <>\r\n          <div className=\"card-left\">\r\n            <img src={\r\n              !isEmpty(usersData[0]) &&\r\n              usersData.map((user) => {\r\n                if (user._id === post.posterId) return user.picture;\r\n                else return null;\r\n              }).join('')\r\n            } alt=\"\"/>\r\n          </div>\r\n          <div className=\"card-right\">\r\n            <div className=\"card-header\">\r\n              <div className=\"pseudo\">\r\n                <h3>\r\n                  {!isEmpty(usersData[0]) &&\r\n                  usersData.map((user) => {\r\n                    if (user._id === post.posterId) return user.pseudo;\r\n                    else return null;\r\n                  }).join('')}\r\n                </h3>\r\n                {post.posterId !== userData._id && (\r\n                  <FollowHandler idToFollow={post.posterId} type={'card'}/>\r\n                )}\r\n              </div>\r\n              <span>{dateParser(post.createdAt)}</span>\r\n            </div>\r\n            {isUpdated === false && <p>{post.message}</p>}\r\n            {isUpdated && (\r\n              <div className=\"update-post\">\r\n                <textarea\r\n                  defaultValue={post.message}\r\n                  onChange={(e) => setTextUpdate(e.target.value)}\r\n                />\r\n                <div className=\"button-container\">\r\n                  <button className={\"btn\"} onClick={updateItem}>\r\n                    Valider la modification\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {post.picture && <img src={post.picture} alt=\"card-pic\" className={\"card-pic\"}/>}\r\n            {post.video && (\r\n              <iframe\r\n                width=\"500\"\r\n                height=\"300\"\r\n                src={post.video}\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                allowFullScreen\r\n                title={post._id}\r\n              />\r\n            )}\r\n            {userData._id === post.posterId && (\r\n              <div className=\"button-container\">\r\n                <div onClick={() => setIsUpdated(!isUpdated)}>\r\n                  <img src=\"./img/icons/edit.svg\" alt=\"edit\"/>\r\n                </div>\r\n                <DeleteCard id={post._id}/>\r\n              </div>\r\n            )}\r\n            <div className=\"card-footer\">\r\n              <div className=\"comment-icon\">\r\n                <img onClick={() => setShowComments(!showComments)} src=\"/img/icons/message1.svg\" alt=\"comment\"/>\r\n                <span>{post.comments.length}</span>\r\n              </div>\r\n              <LikeButton post={post}/>\r\n              <img src=\"./img/icons/share.svg\" alt=\"share\"/>\r\n            </div>\r\n            {showComments && <CardComments post={post}/>}\r\n          </div>\r\n        </>\r\n      )}\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getPosts} from \"../actions/postAction\";\r\nimport {isEmpty} from \"./Utils\";\r\nimport Card from \"./Post/Card\";\r\n\r\nconst Thread = () => {\r\n  const [loadPost, setLoadPost] = useState(true);\r\n  const [count, setCount] = useState(5);\r\n  const dispatch = useDispatch();\r\n  const posts = useSelector((state) => state.postReducer);\r\n\r\n  const loadMore = () => {\r\n    if(window.innerHeight + document.documentElement.scrollTop + 1 > document.scrollingElement.scrollHeight) {\r\n      setLoadPost(true);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(loadPost){\r\n      dispatch(getPosts(count));\r\n      setLoadPost(false);\r\n      setCount(count + 5);\r\n    }\r\n\r\n    window.addEventListener('scroll', loadMore);\r\n    return () => window.removeEventListener('scroll', loadMore);\r\n  }, [loadPost, dispatch, count])\r\n\r\n  return (\r\n    <div className=\"threadContainer\">\r\n      <ul>\r\n        {!isEmpty(posts[0]) &&\r\n          posts.map((post) => {\r\n            return <Card post={post} key={post._id}/>\r\n          })\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Thread;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { isEmpty, timestampParser } from \"../Utils\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { createPost, getPosts } from \"../../actions/postAction\";\r\n\r\nconst PostForm = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [postPicture, setPostPicture] = useState(null);\r\n  const [video, setVideo] = useState(\"\");\r\n  const [file, setFile] = useState();\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const error = useSelector((state) => state.errorReducer.postError);\r\n  const dispatch = useDispatch();\r\n\r\n  const handlePost = async () => {\r\n    if (message || postPicture || video) {\r\n      const data = new FormData();\r\n      data.append('posterId', userData._id);\r\n      data.append('message', message);\r\n      if (file) data.append(\"file\", file);\r\n      data.append('video', video);\r\n\r\n      await dispatch(createPost(data));\r\n      dispatch(getPosts());\r\n      cancelPost();\r\n    } else {\r\n      alert(\"Veuillez entrer un message\")\r\n    }\r\n  };\r\n\r\n  const handlePicture = (e) => {\r\n    setPostPicture(URL.createObjectURL(e.target.files[0]));\r\n    setFile(e.target.files[0]);\r\n    setVideo('');\r\n  };\r\n\r\n  const cancelPost = () => {\r\n    setMessage(\"\");\r\n    setPostPicture(\"\");\r\n    setVideo(\"\");\r\n    setFile(\"\");\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData)) setIsLoading(false);\r\n\r\n    const handleVideo = () => {\r\n      let findLink = message.split(\" \");\r\n      for (let i = 0; i < findLink.length; i++) {\r\n        if (\r\n          findLink[i].includes(\"https://www.yout\") ||\r\n          findLink[i].includes(\"https://yout\")\r\n        ) {\r\n          let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\r\n          setVideo(embed.split(\"&\")[0]);\r\n          findLink.splice(i, 1);\r\n          setMessage(findLink.join(\" \"));\r\n          setPostPicture('');\r\n        }\r\n      }\r\n    };\r\n    handleVideo();\r\n  }, [userData, message, video]);\r\n\r\n  return (\r\n    <div className=\"post-container\">\r\n      {isLoading ? (\r\n        <i className=\"fas fa-spinner fa-pulse\"/>\r\n      ) : (\r\n        <>\r\n          <div className=\"data\">\r\n            <p>\r\n              <span>{userData.following ? userData.following.length : 0}</span>{\" \"}\r\n              Abonnement\r\n              {userData.following && userData.following.length > 1 ? \"s\" : null}\r\n            </p>\r\n            <p>\r\n              <span>{userData.followers ? userData.followers.length : 0}</span>{\" \"}\r\n              Abonn√©\r\n              {userData.followers && userData.followers.length > 1 ? \"s\" : null}\r\n            </p>\r\n          </div>\r\n          <NavLink exact to=\"/profile\">\r\n            <div className=\"user-info\">\r\n              <img src={userData.picture} alt=\"user-img\" />\r\n            </div>\r\n          </NavLink>\r\n          <div className=\"post-form\">\r\n            <textarea\r\n              name=\"message\"\r\n              id=\"message\"\r\n              placeholder=\"Quoi de neuf ?\"\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              value={message}\r\n            />\r\n            {message || postPicture || video.length > 20 ? (\r\n              <li className=\"card-container\">\r\n                <div className=\"card-left\">\r\n                  <img src={userData.picture} alt=\"user-pic\" />\r\n                </div>\r\n                <div className=\"card-right\">\r\n                  <div className=\"card-header\">\r\n                    <div className=\"pseudo\">\r\n                      <h3>{userData.pseudo}</h3>\r\n                    </div>\r\n                    <span>{timestampParser(Date.now())}</span>\r\n                  </div>\r\n                  <div className=\"content\">\r\n                    <p>{message}</p>\r\n                    <img src={postPicture} alt=\"\" />\r\n                    {video && (\r\n                      <iframe\r\n                      src={video}\r\n                      frameBorder=\"0\"\r\n                      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                      allowFullScreen\r\n                      title={video}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ) : null}\r\n            <div className=\"footer-form\">\r\n              <div className=\"icon\">\r\n                {isEmpty(video) && (\r\n                  <>\r\n                    <img src=\"./img/icons/picture.svg\" alt=\"img\" />\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"file-upload\"\r\n                      name=\"file\"\r\n                      accept=\".jpg, .jpeg, .png\"\r\n                      onChange={(e) => handlePicture(e)}\r\n                    />\r\n                  </>\r\n                )}\r\n                {video && (\r\n                  <button onClick={() => setVideo(\"\")}>Supprimer video</button>\r\n                )}\r\n              </div>\r\n              {!isEmpty(error.format) && <p>{error.format}</p>}\r\n              {!isEmpty(error.maxSize) && <p>{error.maxSize}</p>}\r\n              <div className=\"btn-send\">\r\n                {message || postPicture || video.length > 20 ? (\r\n                  <button className=\"cancel\" onClick={cancelPost}>\r\n                    Annuler message\r\n                  </button>\r\n                ) : null}\r\n                <button className=\"send\" onClick={handlePost}>\r\n                  Envoyer\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import React, {useState} from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst SignInForm = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleLogin = (e) => {\r\n      e.preventDefault();\r\n        const emailError = document.querySelector('.email.error');\r\n        const passwordError = document.querySelector('.password.error')\r\n\r\n      axios({\r\n          method: \"post\",\r\n          url: `/api/user/login`,\r\n          withCredentials: true,\r\n          data: {\r\n              email,\r\n              password\r\n          },\r\n      })\r\n          .then((res) => {\r\n              console.log(res);\r\n              if(res.data.errors){\r\n                  emailError.innerHTML = res.data.errors.email;\r\n                  passwordError.innerHTML = res.data.errors.password;\r\n              } else{\r\n                  window.location = '/';\r\n              }\r\n          })\r\n          .catch((err) => {\r\n              console.log(err)\r\n          })\r\n    };\r\n\r\n    return (\r\n        <form action=\"\" onSubmit={handleLogin} id=\"sign-up-form\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <br/>\r\n            <input type=\"text\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)} value={email}/>\r\n            <div className=\"email error\"> </div>\r\n            <br/>\r\n            <label htmlFor=\"password\">Mot de passe</label>\r\n            <br/>\r\n            <input type=\"password\" name=\"password\" id=\"password\" onChange={(e) => setPassword(e.target.value)} value={password}/>\r\n            <div className=\"password error\"> </div>\r\n            <br/>\r\n            <input type=\"submit\" value=\"Se connecter\" />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default SignInForm;\r\n","import React, {useState} from 'react';\r\nimport axios from \"axios\";\r\nimport SignInForm from \"./SignInForm\";\r\n\r\nconst SignUpForm = () => {\r\n    const [formSubmit, setFormSubmit] = useState(false);\r\n    const [pseudo, setPseudo] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [controlPassword, setControlPassword] = useState('');\r\n\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault();\r\n        const terms = document.getElementById('terms');\r\n        const pseudoError = document.querySelector('.pseudo.error');\r\n        const emailError = document.querySelector('.email.error');\r\n        const passwordError = document.querySelector('.password.error');\r\n        const passwordConfirmError = document.querySelector('.password-confirm.error');\r\n        const termsError = document.querySelector('.terms.error');\r\n\r\n        passwordConfirmError.innerHTML = \"\";\r\n        termsError.innerHTML = \"\";\r\n\r\n        if (password !== controlPassword || !terms.checked) {\r\n            if (password !== controlPassword)\r\n                passwordConfirmError.innerHTML = \"Les mots de passe ne correspondent pas\";\r\n            if (!terms.checked)\r\n                termsError.innerHTML = \"Veuillez accepter les conditions g√©n√©rales\";\r\n        } else {\r\n            await axios({\r\n                method: \"post\",\r\n                url: `/api/user/register`,\r\n                data: {\r\n                    pseudo,\r\n                    email,\r\n                    password\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.errors) {\r\n                        pseudoError.innerHTML = res.data.errors.pseudo;\r\n                        emailError.innerHTML = res.data.errors.email;\r\n                        passwordError.innerHTML = res.data.errors.password;\r\n                    } else{\r\n                        setFormSubmit(true);\r\n                    }\r\n\r\n                })\r\n                .catch((err) => console.log(err));\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            {formSubmit ? (\r\n                <>\r\n                    <SignInForm />\r\n                    <span> </span>\r\n                    <h4 className=\"success\">Inscription r√©ussie, veuillez vous connecter</h4>\r\n                </>\r\n            ) : (\r\n                <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\r\n                    <label htmlFor=\"pseudo\">Pseudo</label>\r\n                    <br/>\r\n                    <input type=\"text\" name=\"pseudo\" id=\"pseudo\" onChange={(e) => {\r\n                        setPseudo(e.target.value)\r\n                    }} value={pseudo}/>\r\n                    <div className=\"pseudo error\"></div>\r\n                    <br/>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <br/>\r\n                    <input type=\"text\" name=\"email\" id=\"email\" onChange={(e) => {\r\n                        setEmail(e.target.value)\r\n                    }} value={email}/>\r\n                    <div className=\"email error\"></div>\r\n                    <br/>\r\n                    <label htmlFor=\"password\">Mot de passe</label>\r\n                    <br/>\r\n                    <input type=\"password\" name=\"password\" id=\"password\" onChange={(e) => {\r\n                        setPassword(e.target.value)\r\n                    }} value={password}/>\r\n                    <div className=\"password error\"></div>\r\n                    <br/>\r\n                    <label htmlFor=\"password-conf\">Confirmer votre mot de passe</label>\r\n                    <br/>\r\n                    <input type=\"password\" name=\"password-conf\" id=\"password-conf\" onChange={(e) => {\r\n                        setControlPassword(e.target.value)\r\n                    }} value={controlPassword}/>\r\n                    <div className=\"password-confirm error\"></div>\r\n                    <br/>\r\n                    <input type=\"checkbox\" id=\"terms\"/>\r\n                    <label htmlFor=\"terms\">J'accepte les <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">conditions\r\n                        g√©n√©rales</a></label>\r\n                    <div className=\"terms error\"></div>\r\n                    <br/>\r\n                    <input type=\"submit\" value=\"Valider mon inscription\"/>\r\n                </form>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React, {useState} from 'react';\r\nimport SignUpForm from \"./SignUpForm\";\r\nimport SignInForm from \"./SignInForm\";\r\n\r\nconst Log = (props) => {\r\n    const [signUpModal, setSignUpModal] = useState(props.signup);\r\n    const [signInModal, setSignInModal] = useState(props.signin);\r\n\r\n    const handleModals = (e) => {\r\n        if(e.target.id === \"register\"){\r\n            setSignInModal(false);\r\n            setSignUpModal(true);\r\n        } else if(e.target.id === \"login\"){\r\n            setSignInModal(true);\r\n            setSignUpModal(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"connection-form\">\r\n            <div className=\"form-container\">\r\n                <ul>\r\n                    <li onClick={handleModals} id=\"register\" className={signUpModal ? \"active-btn\" : \"\"}>S'inscrire</li>\r\n                    <li onClick={handleModals} id=\"login\" className={signInModal ? \"active-btn\" : \"\"}>Se connecter</li>\r\n                </ul>\r\n                {signUpModal && <SignUpForm />}\r\n                {signInModal && <SignInForm />}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Log;\r\n","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {isEmpty} from \"./Utils\";\r\nimport {getTrends} from \"../actions/postAction\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Trends = () => {\r\n  const posts = useSelector((state) => state.allPostsReducer);\r\n  const users = useSelector((state) => state.usersReducer);\r\n  const trendList = useSelector((state) => state.trendingReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(posts[0])) {\r\n      const postsArr = Object.keys(posts).map((i) => posts[i]);\r\n      let sortedArray = postsArr.sort((a, b) => {\r\n        return b.likers.length - a.likers.length; // The most liked posts come first\r\n      })\r\n      sortedArray.length = 3;\r\n      dispatch(getTrends(sortedArray));\r\n    }\r\n  }, [posts, dispatch])\r\n\r\n  return (\r\n    <div className={\"trending-container\"}>\r\n      <h4>Trending</h4>\r\n      <NavLink exact to={\"/trending\"}>\r\n        <ul>\r\n          {trendList.length &&\r\n          trendList.map((post) => {\r\n            return (\r\n              <li key={post._id}>\r\n                <div>\r\n                  {post.picture && <img src={post.picture} alt={\"post-pic\"}/>}\r\n                  {post.video && (\r\n                    <iframe\r\n                      src={post.video}\r\n                      frameBorder=\"0\"\r\n                      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                      allowFullScreen\r\n                      title={post._id}\r\n                    />\r\n                  )}\r\n                  {isEmpty(post.picture) && isEmpty(post.video) && (\r\n                    <img src={users[0] && users.map((user) => {\r\n                      if (user._id === post.posterId) {\r\n                        return user.picture;\r\n                      } else return null\r\n                    }).join(\"\")\r\n                    } alt=\"profil-pic\"/>\r\n                  )}\r\n                </div>\r\n                <div className=\"trend-content\">\r\n                  <p>{post.message}</p>\r\n                  <span>Lire</span>\r\n                </div>\r\n              </li>\r\n            )\r\n          })}\r\n        </ul>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trends;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {isEmpty} from \"../Utils\";\r\nimport FollowHandler from \"./FollowHandler\";\r\n\r\nconst FriendHint = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [playOnce, setPlayOnce] = useState(true);\r\n  const [friendHint, setFriendHint] = useState([]);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n\r\n  useEffect(() => {\r\n    const notFriendList = () => {\r\n      let array = [];\r\n      usersData.map((user) => {\r\n        if (user._id !== userData._id && !user.followers.includes(userData._id))\r\n          return array.push(user._id);\r\n      })\r\n      array.sort(() => 0.5 - Math.random());\r\n\r\n      if (window.innerHeight > 780) {\r\n        array.length = 5;\r\n      } else if (window.innerHeight > 720) {\r\n        array.length = 4;\r\n      } else if (window.innerHeight > 615) {\r\n        array.length = 2;\r\n      } else if (window.innerHeight > 720) {\r\n        array.length = 1;\r\n      } else {\r\n        array.length = 0;\r\n      }\r\n      setFriendHint(array);\r\n    }\r\n\r\n    if (playOnce && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\r\n      notFriendList();\r\n      setIsLoading(false);\r\n      setPlayOnce(false);\r\n    }\r\n  }, [usersData, userData, playOnce]);\r\n  return (\r\n    <div className=\"get-friends-container\">\r\n      <h4>Suggestions</h4>\r\n      {isLoading ? (\r\n        <div className=\"icon\">\r\n          <i className=\"fas fa-spinner fa-pulse\"/>\r\n        </div>\r\n      ) : (\r\n        <ul>\r\n          {friendHint && friendHint.map((user) => {\r\n            for (let i = 0; i < usersData.length; i++) {\r\n              if (user === usersData[i]._id) {\r\n                return (\r\n                  <li className=\"user-hint\" key={user}>\r\n                    <img src={usersData[i].picture} alt=\"user-pic\"/>\r\n                    <p>{usersData[i].pseudo}</p>\r\n                    <FollowHandler idToFollow={usersData[i]._id} type={\"suggestion\"}/>\r\n                  </li>\r\n                )\r\n              }\r\n            }\r\n          })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendHint;\r\n","import React, {useContext} from 'react';\r\nimport LeftNav from \"../components/LeftNav\";\r\nimport Thread from \"../components/Thread\";\r\nimport {UidContext} from \"../components/AppContext\";\r\nimport PostForm from \"../components/Post/PostForm\";\r\nimport Log from \"../components/Log\";\r\nimport Trends from \"../components/Trends\";\r\nimport FriendHint from \"../components/Profile/FriendHint\";\r\n\r\nconst Home = () => {\r\n  const uid = useContext(UidContext);\r\n    return (\r\n        <div className=\"home\">\r\n            <LeftNav/>\r\n            <div className=\"main\">\r\n              <div className=\"home-header\">\r\n                {uid ? <PostForm/> : <Log signin={true} signup={false} />}\r\n              </div>\r\n              <Thread/>\r\n            </div>\r\n          <div className=\"right-side\">\r\n            <div className=\"right-side-container\">\r\n              <div className=\"wrapper\">\r\n                <Trends/>\r\n                {uid && <FriendHint/>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {uploadPicture} from \"../../actions/userActions\";\r\n\r\nconst UploadImg = () => {\r\n  const [file, setFile] = useState();\r\n  const dispatch = useDispatch();\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  const handlePicture = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData();\r\n    data.append(\"name\", userData.pseudo);\r\n    data.append(\"userId\", userData._id);\r\n    data.append(\"file\", file);\r\n\r\n    dispatch(uploadPicture(data, userData._id)); // The action\r\n  }\r\n  return (\r\n    <form action=\"\" onSubmit={handlePicture} className=\"upload-pic\">\r\n      <label htmlFor=\"file\">Changer d'image</label>\r\n      <input type=\"file\" id=\"file\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={(e) => setFile(e.target.files[0])}/>\r\n      <br/>\r\n      <input type=\"submit\" value=\"Envoyer\"/>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UploadImg;\r\n","import React, {useState} from 'react';\r\nimport LeftNav from \"../LeftNav\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport UploadImg from \"./UploadImg\";\r\nimport {updateBio} from \"../../actions/userActions\";\r\nimport {dateParser} from \"../Utils\";\r\nimport FollowHandler from \"./FollowHandler\";\r\n\r\nconst UpdateProfile = () => {\r\n  const [bio, setBio] = useState('');\r\n  const [updateForm, setUpdateForm] = useState(false);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const error = useSelector((state) => state.errorReducer.userError)\r\n  const dispatch = useDispatch();\r\n  const [followingPopup, setFollowingPopup] = useState(false);\r\n  const [followersPopup, setFollowersPopup] = useState(false);\r\n\r\n  const handleUpdate = () => {\r\n    dispatch(updateBio(userData._id, bio));\r\n    setUpdateForm(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"profil-container\">\r\n      <LeftNav/>\r\n      <h1>Profil de {userData.pseudo}</h1>\r\n      <div className=\"update-container\">\r\n        <div className=\"left-part\">\r\n          <h3>Photo de profil</h3>\r\n          <img src={userData.picture} alt=\"user-pic\"/>\r\n          <UploadImg/>\r\n          <p>{error.maxSize}</p>\r\n          <p>{error.format}</p>\r\n        </div>\r\n        <div className=\"right-part\">\r\n          <div className=\"bio-update\">\r\n            <h3>Bio</h3>\r\n            {updateForm === false && (\r\n              <>\r\n                <p onClick={() => setUpdateForm(!updateForm)}>{userData.bio}</p>\r\n                <button onClick={() => setUpdateForm(!updateForm)}>Modifier la bio</button>\r\n              </>\r\n            )}\r\n            {updateForm && (\r\n              <>\r\n                <textarea defaultValue={userData.bio} onChange={(e) => setBio(e.target.value)}/>\r\n                <button onClick={handleUpdate}>Valider la modification</button>\r\n              </>\r\n            )}\r\n          </div>\r\n          <h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\r\n          <h5 onClick={() => setFollowingPopup(true)}>Abonnement(s)\r\n            : {userData.following ? userData.following.length : 0}</h5>\r\n          <h5 onClick={() => setFollowersPopup(true)}>Abonn√©(s)\r\n            : {userData.followers ? userData.followers.length : 0}</h5>\r\n        </div>\r\n      </div>\r\n      {followingPopup && (\r\n        <div className=\"popup-profil-container\">\r\n          <div className=\"modal\">\r\n            <h3>Abonnements</h3>\r\n            <span onClick={() => setFollowingPopup(false)} className=\"cross\">&#10005;</span>\r\n            <ul>\r\n              {usersData.map((user) => {\r\n                for (let i = 0; i < userData.following.length; i++) {\r\n                  if (user._id === userData.following[i]) {\r\n                    return (\r\n                      <li key={user._id}>\r\n                        <img src={user.picture} alt=\"user-pic\"/>\r\n                        <h4>{user.pseudo}</h4>\r\n                        <div className=\"follow-handler\">\r\n                          <FollowHandler idToFollow={user._id} type={\"suggestion\"}/>\r\n                        </div>\r\n                      </li>\r\n                    )\r\n                  }\r\n                }\r\n                return null;\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {followersPopup && (\r\n        <div className=\"popup-profil-container\">\r\n          <div className=\"modal\">\r\n            <h3>Abonn√©s</h3>\r\n            <span onClick={() => setFollowersPopup(false)} className=\"cross\">&#10005;</span>\r\n            <ul>\r\n              {usersData.map((user) => {\r\n                for (let i = 0; i < userData.followers.length; i++) {\r\n                  if (user._id === userData.followers[i]) {\r\n                    return (\r\n                      <li key={user._id}>\r\n                        <img src={user.picture} alt=\"user-pic\"/>\r\n                        <h4>{user.pseudo}</h4>\r\n                        <div className=\"follow-handler\">\r\n                          <FollowHandler idToFollow={user._id} type={\"suggestion\"}/>\r\n                        </div>\r\n                      </li>\r\n                    )\r\n                  }\r\n                }\r\n                return null;\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateProfile;\r\n","import React, {useContext} from 'react';\r\nimport Log from \"../components/Log\"\r\nimport { UidContext } from \"../components/AppContext\";\r\nimport UpdateProfile from \"../components/Profile/UpdateProfile\";\r\n\r\nconst Profile = () => {\r\n    const uid = useContext(UidContext);\r\n    return (\r\n        <div className=\"profil-page\">\r\n            {\r\n                uid ? (\r\n                    <UpdateProfile/>\r\n                ) : (\r\n                    <div className=\"log-container\">\r\n                        <Log signin={false} signup={true}/>\r\n                        <div className=\"img-container\"><img src=\"./img/log.svg\" alt=\"img-log\"/></div>\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React, {useContext, useEffect} from 'react';\r\nimport {UidContext} from \"../components/AppContext\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport LeftNav from \"../components/LeftNav\";\r\nimport {isEmpty} from \"../components/Utils\";\r\nimport Card from \"../components/Post/Card\";\r\nimport {getTrends} from \"../actions/postAction\";\r\nimport Trends from \"../components/Trends\";\r\nimport FriendHint from \"../components/Profile/FriendHint\";\r\n\r\nconst Trending = () => {\r\n  const uid = useContext(UidContext);\r\n  const trendList = useSelector((state) => state.trendingReducer);\r\n  const posts = useSelector((state) => state.allPostsReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(posts[0])) {\r\n      const postsArr = Object.keys(posts).map((i) => posts[i]);\r\n      let sortedArray = postsArr.sort((a, b) => {\r\n        return b.likers.length - a.likers.length; // The most liked posts come first\r\n      })\r\n      sortedArray.length = 3;\r\n      dispatch(getTrends(sortedArray));\r\n    }\r\n  }, [posts, dispatch])\r\n  return (\r\n    <div className={\"trending-page\"}>\r\n      <LeftNav/>\r\n      <div className={\"main\"}>\r\n        <ul>\r\n          {!isEmpty(trendList[0]) && trendList.map((post) => <Card post={post} key={post._id}/>)}\r\n        </ul>\r\n      </div>\r\n      <div className=\"right-side\">\r\n        <div className=\"right-side-container\">\r\n          <Trends />\r\n          {uid && <FriendHint/>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trending;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport cookie from 'js-cookie';\r\n\r\nconst Logout = () => {\r\n  const removeCookie = (key) => {\r\n    if(window !== \"undefined\") {\r\n      cookie.remove(key, {expires: 1});\r\n    }\r\n  }\r\n\r\n  const logout = async () => {\r\n    await axios({\r\n      method: \"get\",\r\n      url: `/api/user/logout`,\r\n      withCredentials: true\r\n    })\r\n      .then(() => removeCookie('jwt'))\r\n      .catch((err) => console.log(err));\r\n\r\n    window.location = \"/\";\r\n  }\r\n  return (\r\n    <div>\r\n      <li onClick={logout}>\r\n        <img src=\"./img/icons/logout.svg\" alt=\"logout\"/>\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React, {useContext} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UidContext} from \"./AppContext\";\r\nimport Logout from \"./Log/Logout\";\r\nimport {useSelector } from \"react-redux\";\r\n\r\nconst Navbar = () => {\r\n  const uid = useContext(UidContext);\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  return (\r\n      <nav>\r\n        <div className=\"nav-container\">\r\n          <NavLink exact to=\"/\">\r\n            <div className=\"logo\">\r\n              {/*<img src=\"./img/icon.png\" alt=\"icon\"/>*/}\r\n              <h3>The Social Network</h3>\r\n            </div>\r\n          </NavLink>\r\n          {uid ? (\r\n              <ul>\r\n                <li></li>\r\n                <li className=\"welcome\">\r\n                  <NavLink exact to=\"/profile\">\r\n                    <h5>Bienvenue {userData.pseudo}</h5>\r\n                  </NavLink>\r\n                </li>\r\n                <Logout />\r\n              </ul>\r\n          ) : (\r\n              <ul>\r\n                <li></li>\r\n                <li>\r\n                  <NavLink exact to=\"/profile\">\r\n                    <img src=\"./img/icons/login.svg\" alt=\"log\"/>\r\n                  </NavLink>\r\n                </li>\r\n              </ul>\r\n          )}\r\n        </div>\r\n      </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Route, Switch, Redirect} from \"react-router-dom\";\r\nimport Home from \"../../pages/Home\";\r\nimport Profile from \"../../pages/Profile\";\r\nimport Trending from \"../../pages/Trending\";\r\nimport Navbar from \"../Navbar\"\r\n\r\nconst index = () => {\r\n  return (\r\n        <Router>\r\n          <Navbar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home}/>\r\n            <Route path=\"/profile\" exact component={Profile}/>\r\n            <Route path=\"/trending\" exact component={Trending}/>\r\n            <Redirect to=\"/\"/>\r\n          </Switch>\r\n        </Router>\r\n  );\r\n};\r\n\r\nexport default index;\r\n","import React, {useEffect, useState} from 'react';\nimport Routes from \"./components/Routes\";\nimport {UidContext} from \"./components/AppContext\";\nimport axios from \"axios\";\nimport {useDispatch} from \"react-redux\";\nimport {getUser} from \"./actions/userActions\";\n\nconst App = () => {\n    const [uid, setUid] = useState(null);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const fetchToken = async () => {\n            await axios({\n                method: \"get\",\n                url: `/jwtid`,\n                withCredentials: true\n            })\n            .then((res) => setUid(res.data))\n            .catch((err) => console.log(\"No token\"));\n        }\n        fetchToken();\n\n        if(uid) dispatch(getUser(uid));\n    }, [uid, dispatch])\n    return (\n        <UidContext.Provider value={uid}>\n            <Routes />\n        </UidContext.Provider>\n    );\n};\n\nexport default App;\n","import {FOLLOW_USER, GET_USER, UNFOLLOW_USER, UPDATE_BIO, UPLOAD_PICTURE} from \"../actions/userActions\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return action.payload;\r\n    case UPLOAD_PICTURE:\r\n      return {\r\n        ...state,\r\n        picture: action.payload\r\n      };\r\n    case UPDATE_BIO:\r\n      return {\r\n        ...state,\r\n        bio: action.payload\r\n      }\r\n    case FOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: [action.payload.idToFollow, ...state.following]\r\n      }\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: state.following.filter((id) => id !== action.payload.idToUnfollow)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import axios from \"axios\";\r\n\r\nexport const GET_USERS = \"GET_USERS\";\r\n\r\nexport const getUsers = () => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`/api/user`)\r\n      .then((res) => {\r\n        dispatch({type: 'GET_USERS', payload: res.data});\r\n      })\r\n      .catch((err) => console.log(err))\r\n  };\r\n};","import {GET_USERS} from \"../actions/usersAction\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function usersReducer(state= initialState, action){\r\n  switch (action.type){\r\n    case GET_USERS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  DELETE_COMMENT,\r\n  DELETE_POST,\r\n  EDIT_COMMENT,\r\n  GET_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  UPDATE_POST\r\n} from \"../actions/postAction\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function postReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POSTS:\r\n      return action.payload;\r\n    case LIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: [action.payload.userId, ...post.likers]\r\n          }\r\n        }\r\n        return post;\r\n      })\r\n    case UNLIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: post.likers.filter((id) => id !== action.payload.userId)\r\n          }\r\n        }\r\n        return post;\r\n      })\r\n    case UPDATE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            message: action.payload.message,\r\n          }\r\n        } else return post;\r\n      })\r\n    case DELETE_POST:\r\n      return state.filter((post) => {\r\n        if (post._id !== action.payload.postId) {\r\n          return post;\r\n        }\r\n      })\r\n    case EDIT_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.map((comment) => {\r\n              if (comment._id === action.payload.commentId) {\r\n                return {\r\n                  ...comment,\r\n                  text: action.payload.text\r\n                }\r\n              } else return comment;\r\n            })\r\n          }\r\n        } else return post;\r\n      })\r\n    case DELETE_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.filter((comment) => (comment._id !== action.payload.commentId))\r\n          }\r\n        } else return post;\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}","import {GET_POST_ERROR} from \"../actions/postAction\";\r\nimport {GET_USER_ERROR} from \"../actions/userActions\";\r\n\r\nconst initialState = {postError: [], userError: []}\r\n\r\nexport default function errorReducer(state = initialState, action) {\r\n  switch (action.type){\r\n    case GET_POST_ERROR:\r\n      return{\r\n        postError: action.payload,\r\n        userError: []\r\n      }\r\n    case GET_USER_ERROR:\r\n      return{\r\n        userError: action.payload,\r\n        postError: []\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {GET_ALL_POSTS} from \"../actions/postAction\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function allPostsReducer(state = initialState, action){\r\n  switch (action.type) {\r\n    case GET_ALL_POSTS:\r\n      return action.payload\r\n    default:\r\n      return state;\r\n  }\r\n}","import {GET_TRENDS} from \"../actions/postAction\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function trendingReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_TRENDS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./userReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport postReducer from \"./postReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport allPostsReducer from \"./allPostsReducer\";\r\nimport trendingReducer from \"./trendingReducer\";\r\n\r\nexport default combineReducers({\r\n  userReducer,\r\n  usersReducer,\r\n  postReducer,\r\n  errorReducer,\r\n  allPostsReducer,\r\n  trendingReducer\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.scss';\nimport {Provider} from \"react-redux\";\nimport {applyMiddleware, createStore} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from './reducers';\nimport {getUsers} from \"./actions/usersAction\";\nimport {getPosts} from \"./actions/postAction\";\n\n//dev tools\nimport {composeWithDevTools} from \"redux-devtools-extension\";\n// import logger from 'redux-logger';\n\nconst store = createStore(\n  rootReducer, composeWithDevTools(applyMiddleware(thunk)) // Put the logger here if needed\n)\n\nstore.dispatch(getUsers()).then(() => {});\nstore.dispatch(getPosts()).then(() => {});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}